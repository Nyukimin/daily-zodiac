<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <base href="{{ base_path }}" />
  <title>{{ page_title }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-zinc-950 text-zinc-50 overflow-x-hidden">
  <!-- 背景レイヤー -->
  <div class="fixed inset-0 -z-10" aria-hidden="true">
    <div class="absolute inset-0 bg-zinc-950"></div>
    <div class="absolute -top-40 -left-40 h-[520px] w-[520px] rounded-full bg-fuchsia-500/10 blur-3xl"></div>
    <div class="absolute -bottom-48 -right-48 h-[620px] w-[620px] rounded-full bg-amber-400/8 blur-3xl"></div>
  </div>

  <main class="mx-auto max-w-5xl px-4 py-4 flex flex-col min-h-screen gap-y-3">
    <!-- 星座切り替えタブ（タップ領域44px以上・横スクロール） -->
    <nav class="overflow-x-auto -mx-4 px-4 shrink-0" aria-label="他の星座">
      <ul class="flex flex-nowrap gap-2 py-2 min-w-max">
        <li><a href="{{ base_href }}" class="inline-flex items-center justify-center min-h-[44px] min-w-[44px] px-4 py-2 rounded-lg bg-white/5 text-xs text-zinc-200/80 hover:bg-white/10 hover:text-white transition whitespace-nowrap {% if is_home %}font-semibold text-white bg-white/15{% endif %}">恋愛運</a></li>
        {% for s, ja in signs %}
        <li><a href="{{ base_href }}{{ s }}/" class="inline-flex items-center justify-center min-h-[44px] min-w-[44px] px-4 py-2 rounded-lg bg-white/5 text-xs text-zinc-200/80 hover:bg-white/10 hover:text-white transition whitespace-nowrap {% if not is_home and data.sign == s %}font-semibold text-white bg-white/15{% endif %}">{{ ja }}</a></li>
        {% endfor %}
      </ul>
    </nav>

    <!-- 占い結果：キービジュアル（左に情報・右にイラスト） -->
    <section class="w-full rounded-2xl ring-1 ring-white/12 overflow-hidden min-h-[160px] shrink-0 flex flex-col" aria-label="恋愛占い結果">
      <div class="relative flex w-full min-h-[120px] pt-3 pb-3 bg-zinc-900/80">
        <!-- 左：日付・星座・見出し・要約の一覧（背景をグラデーションと一致させる） -->
        <div class="relative z-10 flex flex-col justify-center gap-1 px-4 py-3 min-w-0 flex-[0.9] bg-zinc-900/80">
          <p class="text-[10px] text-zinc-200/90">{{ data.date }}</p>
          <h2 class="text-base font-semibold tracking-tight text-white">{% if is_home %}今日の恋愛運{% else %}今日の{{ data.sign_ja }}の恋愛運{% endif %}</h2>
          <p class="text-xs text-zinc-200/90 leading-snug mt-0.5">{{ data.summary }}</p>
        </div>
        <!-- 右：イラスト（右寄せ・軽く拡大）+ グラデーションはイラスト左端から全面になだらかにフェード -->
        <div class="relative flex-[1.3] min-w-0 h-[200px] flex justify-end items-center overflow-hidden">
          <img
            src="./{{ img_src }}"
            alt="{{ data.sign_ja }}の今日の恋愛運"
            class="relative w-[130%] object-contain object-center"
          />
          <!-- イラストエリア全体を覆い、左端から右へなだらかにフェード -->
          <div class="absolute inset-0 pointer-events-none" aria-hidden="true" style="background: linear-gradient(to right, rgb(24 24 27) 0%, rgb(24 24 27 / 0.85) 30%, rgb(24 24 27 / 0.55) 55%, rgb(24 24 27 / 0.25) 78%, transparent 100%);"></div>
        </div>
      </div>
    </section>

    <!-- 広告枠 -->
    <aside class="w-full rounded-xl ring-1 ring-white/12 bg-white/5 backdrop-blur-xl px-2 py-1.5 shrink-0" aria-label="スポンサーリンク">
      <p class="text-[10px] text-zinc-200/60 mb-1">スポンサーリンク</p>
      <div class="ad-slot w-full max-w-[300px] h-10 mx-auto rounded-md bg-zinc-950/50 ring-1 ring-white/10 grid place-items-center text-[10px] text-zinc-200/60">
        Ad Slot (300×48)
      </div>
    </aside>

    <!-- アドバイス（結果コンテンツ・高さ可変） -->
    <section class="rounded-2xl ring-1 ring-white/12 bg-white/5 backdrop-blur-xl overflow-hidden shrink-0 flex flex-col" aria-label="今日の恋愛占い結果">
      {% block content %}{% endblock %}
    </section>
  </main>
</body>
</html>
